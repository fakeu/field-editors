{"version":3,"file":"field-editor-boolean.cjs.development.js","sources":["../src/BooleanEditor.tsx"],"sourcesContent":["import * as React from 'react';\nimport get from 'lodash/get';\nimport { nanoid } from 'nanoid';\nimport { FieldAPI, ParametersAPI, FieldConnector } from '@contentful/field-editor-shared';\n\nimport { TextLink, Flex, Radio } from '@contentful/f36-components';\n\nexport interface BooleanEditorProps {\n  /**\n   * is the field disabled initially\n   */\n  isInitiallyDisabled: boolean;\n\n  /**\n   * sdk.field\n   */\n  field: FieldAPI;\n\n  /**\n   * sdk.parameters\n   */\n  parameters?: ParametersAPI & {\n    instance: {\n      trueLabel?: string;\n      falseLabel?: string;\n    };\n  };\n}\n\nexport function BooleanEditor(props: BooleanEditorProps) {\n  const { field } = props;\n\n  const options = [\n    { value: true, label: get(props.parameters, ['instance', 'trueLabel'], 'Yes'), id: nanoid(6) },\n    { value: false, label: get(props.parameters, ['instance', 'falseLabel'], 'No'), id: nanoid(6) },\n  ];\n\n  return (\n    <FieldConnector<boolean>\n      throttle={0}\n      field={field}\n      isInitiallyDisabled={props.isInitiallyDisabled}>\n      {({ disabled, value, setValue }) => {\n        const setOption = (value: string) => {\n          setValue(value === 'true' ? true : false);\n        };\n\n        const clearOption = () => {\n          setValue(null);\n        };\n\n        return (\n          <Flex testId=\"boolean-editor\" alignItems=\"center\" marginTop=\"spacingS\">\n            {options.map((item) => {\n              const id = ['entity', field.id, field.locale, item.value, item.id].join('.');\n              const checked = value === item.value;\n              return (\n                <Flex marginRight=\"spacingM\" key={id}>\n                  <Radio\n                    id={id}\n                    isDisabled={disabled}\n                    value={item.value === undefined ? '' : String(item.value)}\n                    isChecked={checked}\n                    onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n                      if (e.target.checked) {\n                        setOption(e.target.value);\n                      }\n                    }}>\n                    {item.label}\n                  </Radio>\n                </Flex>\n              );\n            })}\n            {value !== undefined && (\n              <TextLink\n                as=\"button\"\n                testId=\"boolean-editor-clear\"\n                isDisabled={disabled}\n                onClick={clearOption}>\n                Clear\n              </TextLink>\n            )}\n          </Flex>\n        );\n      }}\n    </FieldConnector>\n  );\n}\n\nBooleanEditor.defaultProps = {\n  isInitiallyDisabled: true,\n};\n"],"names":["BooleanEditor","props","field","options","value","label","get","parameters","id","nanoid","React","FieldConnector","throttle","isInitiallyDisabled","disabled","setValue","setOption","clearOption","Flex","testId","alignItems","marginTop","map","item","locale","join","checked","marginRight","key","Radio","isDisabled","undefined","String","isChecked","onChange","e","target","TextLink","as","onClick","defaultProps"],"mappings":";;;;;;;;;;;;SA6BgBA,cAAcC;AAC5B,MAAQC,KAAR,GAAkBD,KAAlB,CAAQC,KAAR;AAEA,MAAMC,OAAO,GAAG,CACd;AAAEC,IAAAA,KAAK,EAAE,IAAT;AAAeC,IAAAA,KAAK,EAAEC,GAAG,CAACL,KAAK,CAACM,UAAP,EAAmB,CAAC,UAAD,EAAa,WAAb,CAAnB,EAA8C,KAA9C,CAAzB;AAA+EC,IAAAA,EAAE,EAAEC,aAAM,CAAC,CAAD;AAAzF,GADc,EAEd;AAAEL,IAAAA,KAAK,EAAE,KAAT;AAAgBC,IAAAA,KAAK,EAAEC,GAAG,CAACL,KAAK,CAACM,UAAP,EAAmB,CAAC,UAAD,EAAa,YAAb,CAAnB,EAA+C,IAA/C,CAA1B;AAAgFC,IAAAA,EAAE,EAAEC,aAAM,CAAC,CAAD;AAA1F,GAFc,CAAhB;AAKA,SACEC,mBAAA,CAACC,gCAAD;AACEC,IAAAA,QAAQ,EAAE;AACVV,IAAAA,KAAK,EAAEA;AACPW,IAAAA,mBAAmB,EAAEZ,KAAK,CAACY;GAH7B,EAIG;QAAGC,gBAAAA;QAAUV,aAAAA;QAAOW,gBAAAA;;AACnB,QAAMC,SAAS,GAAG,SAAZA,SAAY,CAACZ,KAAD;AAChBW,MAAAA,QAAQ,CAACX,KAAK,KAAK,MAAV,GAAmB,IAAnB,GAA0B,KAA3B,CAAR;AACD,KAFD;;AAIA,QAAMa,WAAW,GAAG,SAAdA,WAAc;AAClBF,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACD,KAFD;;AAIA,WACEL,mBAAA,CAACQ,kBAAD;AAAMC,MAAAA,MAAM,EAAC;AAAiBC,MAAAA,UAAU,EAAC;AAASC,MAAAA,SAAS,EAAC;KAA5D,EACGlB,OAAO,CAACmB,GAAR,CAAY,UAACC,IAAD;AACX,UAAMf,EAAE,GAAG,CAAC,QAAD,EAAWN,KAAK,CAACM,EAAjB,EAAqBN,KAAK,CAACsB,MAA3B,EAAmCD,IAAI,CAACnB,KAAxC,EAA+CmB,IAAI,CAACf,EAApD,EAAwDiB,IAAxD,CAA6D,GAA7D,CAAX;AACA,UAAMC,OAAO,GAAGtB,KAAK,KAAKmB,IAAI,CAACnB,KAA/B;AACA,aACEM,mBAAA,CAACQ,kBAAD;AAAMS,QAAAA,WAAW,EAAC;AAAWC,QAAAA,GAAG,EAAEpB;OAAlC,EACEE,mBAAA,CAACmB,mBAAD;AACErB,QAAAA,EAAE,EAAEA;AACJsB,QAAAA,UAAU,EAAEhB;AACZV,QAAAA,KAAK,EAAEmB,IAAI,CAACnB,KAAL,KAAe2B,SAAf,GAA2B,EAA3B,GAAgCC,MAAM,CAACT,IAAI,CAACnB,KAAN;AAC7C6B,QAAAA,SAAS,EAAEP;AACXQ,QAAAA,QAAQ,EAAE,kBAACC,CAAD;AACR,cAAIA,CAAC,CAACC,MAAF,CAASV,OAAb,EAAsB;AACpBV,YAAAA,SAAS,CAACmB,CAAC,CAACC,MAAF,CAAShC,KAAV,CAAT;AACD;AACF;OATH,EAUGmB,IAAI,CAAClB,KAVR,CADF,CADF;AAgBD,KAnBA,CADH,EAqBGD,KAAK,KAAK2B,SAAV,IACCrB,mBAAA,CAAC2B,sBAAD;AACEC,MAAAA,EAAE,EAAC;AACHnB,MAAAA,MAAM,EAAC;AACPW,MAAAA,UAAU,EAAEhB;AACZyB,MAAAA,OAAO,EAAEtB;KAJX,SAAA,CAtBJ,CADF;AAiCD,GA9CH,CADF;AAkDD;AAEDjB,aAAa,CAACwC,YAAd,GAA6B;AAC3B3B,EAAAA,mBAAmB,EAAE;AADM,CAA7B;;;;"}