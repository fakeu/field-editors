"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(require("mitt")),t=e(require("react")),i=require("emotion"),r=e(require("@contentful/f36-tokens"));function o(e){return e}function a(e){return e}var s=function(e,n){return{fields:n,sys:{id:"entry-"+Math.round(1e3*Math.random()),type:"Entry",space:{sys:{id:"space",type:"Link",linkType:"Space"}},environment:{sys:{id:"e123",type:"Link",linkType:"Environment"}},version:2,publishedVersion:2,publishedCounter:1,createdAt:"2020-02-15T17:41:01.000Z",updatedAt:"2020-02-17T20:20:01.000Z",publishedAt:"2020-02-18T17:41:01.000Z",firstPublishedAt:"2020-02-18T17:41:01.000Z",createdBy:{sys:{id:"u123",type:"Link",linkType:"User"}},updatedBy:{sys:{id:"u123",type:"Link",linkType:"User"}},publishedBy:{sys:{id:"u123",type:"Link",linkType:"User"}},contentType:{sys:{id:e,type:"Link",linkType:"ContentType"}}},metadata:{tags:[]}}};function l(e){return e}var d=[{name:"Example Content Type",sys:{id:"exampleCT",type:"ContentType",space:{sys:{id:"space",type:"link",linkType:"Space"}},environment:{sys:{id:"env",type:"link",linkType:"Environment"}},version:1,createdAt:"2020-08-11T09:30:29.326Z",updatedAt:"2020-08-11T09:30:29.326Z"},fields:[{id:"exField",disabled:!1,localized:!1,name:"Example Field",omitted:!1,required:!0,type:"Symbol",validations:[]},{id:"exDesc",disabled:!1,localized:!1,name:"Description Field",omitted:!1,required:!1,type:"Text",validations:[]}],displayField:"exField",description:""},{name:"Another Content Type",sys:{id:"anotherCT",type:"ContentType",space:{sys:{id:"space",type:"link",linkType:"Space"}},environment:{sys:{id:"env",type:"link",linkType:"Environment"}},version:1,createdAt:"2020-08-11T09:30:29.326Z",updatedAt:"2020-08-11T09:30:29.326Z"},fields:[],displayField:"",description:""}];function u(){return(u=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}function c(e,n){return"add"===n.type?u({},e,{events:[{id:e.events.length+1,type:n.payload.type,value:n.payload.value}].concat(e.events)}):e}function p(e){var n=t.useReducer(c,{events:[]}),o=n[0],a=n[1],s=function(e,n){a({type:"add",payload:{type:e,value:n}})};return t.useEffect((function(){return e.mitt.on("*",s),window.Cypress&&(window.editorEvents=[],window.setValueExternal=function(n){e.mitt.emit("onValueChanged",n)}),function(){e.mitt.off("*",s),window.editorEvents=void 0,window.setValueExternal=void 0}}),[e.mitt]),t.useEffect((function(){window.editorEvents=[].concat(o.events)}),[e,o.events]),t.createElement("div",{className:i.css({border:"1px solid "+r.gray200,padding:r.spacingS,marginTop:r.spacingXl})},t.createElement("div",{className:i.css({height:150,overflowY:"scroll",fontSize:r.fontSizeM})},o.events.map((function(n){return t.createElement("div",{key:n.id},t.createElement("div",null,t.createElement("code",null,n.id,". ",n.type)),t.createElement("div",null,n.value?e.renderValue(n.value,n.type):t.createElement("pre",null,"undefined")))}))))}p.defaultProps={renderValue:function(e){return t.createElement("pre",null,JSON.stringify(e,null,2))}},exports.ActionsPlayground=p,exports.createFakeCMAAdapter=function(e){return{makeRequest:function(n){var t,i,r,o=n.entityType,a=n.action;return null!=(t=null==e||null==(i=e[o])||null==(r=i[a])?void 0:r.call(i,n.params))?t:Promise.reject("Override for "+o+"."+a+" is not defined")}}},exports.createFakeFieldAPI=function(e,t){void 0===e&&(e=o);var i=n(),r=t;return[e({id:"fake-id",locale:"en-US",type:"Symbol",validations:[],required:!1,onValueChanged:function(){var e;return i.on("onValueChanged",e="string"==typeof(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:arguments.length<=0?void 0:arguments[0]),function(){i.off("onValueChanged",e)}},onIsDisabledChanged:function(e){return i.on("onIsDisabledChanged",e),function(){i.off("onIsDisabledChanged",e)}},onSchemaErrorsChanged:function(e){return i.on("onSchemaErrorsChanged",e),function(){i.off("onSchemaErrorsChanged",e)}},getValue:function(){return i.emit("getValue"),r},setInvalid:function(){i.emit("setInvalid")},setValue:function(e){return i.emit("setValue",r=e),i.emit("onValueChanged",r),Promise.resolve(void 0)},removeValue:function(){return r=void 0,i.emit("removeValue"),i.emit("onValueChanged",void 0),Promise.resolve()}}),i]},exports.createFakeLocalesAPI=function(e){return void 0===e&&(e=a),e({default:"en-US",available:["en-US","de-DE"],fallbacks:{"en-US":void 0,"de-DE":void 0},names:{"en-US":"English","de-DE":"Deutsch"},optional:{"en-US":!1,"de-DE":!1},direction:{"en-US":"ltr","de-DE":"ltr"}})},exports.createFakeNavigatorAPI=function(){return{openEntry:function(e){window.alert("Open entry "+e)},openAsset:function(e){window.alert("Open asset "+e)}}},exports.createFakeSpaceAPI=function(e){return void 0===e&&(e=l),e({getCachedContentTypes:function(){return d},getContentTypes:function(){return Promise.resolve({items:d,total:d.length,skip:0,limit:100,sys:{type:"Array"}})},getEntries:function(e){var n=[s("exampleCT",{exField:{"en-US":"Hello world"}}),s("exampleCT",{})];return Promise.resolve({items:e&&"exampleCT"!==e.content_type?[]:n,total:n.length,skip:0,limit:100,sys:{type:"Array"}})},getAssets:function(){return Promise.resolve({items:[],total:0,skip:0,limit:100,sys:{type:"Array"}})},createEntry:function(e){return Promise.resolve(s(e,{}))},createAsset:function(){return Promise.resolve({})}})};
//# sourceMappingURL=field-editor-test-utils.cjs.production.min.js.map
